<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>売主準備書類チェックリスト</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        @media print {
            body { -webkit-print-color-adjust: exact; }
            .no-print { display: none; }
        }
        .checklist-item {
            border-left: 4px solid #3b82f6;
            transition: all 0.2s ease;
        }
        .checklist-item.completed {
            border-left-color: #10b981;
            background-color: #f0fdf4;
        }
        .checkbox-custom {
            transform: scale(1.2);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div class="max-w-4xl mx-auto p-6 bg-white shadow-lg">
        <!-- Header -->
        <header class="text-center mb-8 border-b pb-6">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">
                <i class="fas fa-home text-blue-600 mr-3"></i>
                不動産売買取引
            </h1>
            <h2 class="text-2xl text-gray-600">売主準備書類チェックリスト</h2>
            <p class="text-sm text-gray-500 mt-2">各項目の準備が完了したらチェックしてください</p>
        </header>

        <!-- 売買契約書と同時に必要な書類 -->
        <section class="mb-8">
            <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                <i class="fas fa-file-contract text-blue-600 mr-2"></i>
                売買契約書と同時に必要な書類
            </h3>
            <div class="space-y-3">
                <div class="checklist-item bg-blue-50 p-4 rounded-lg" data-item="license">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" class="checkbox-custom mr-3 text-blue-600" id="license">
                        <span class="text-gray-800">運転免許証コピー（有効期限内）</span>
                    </label>
                </div>
                
                <div class="checklist-item bg-blue-50 p-4 rounded-lg" data-item="residence">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" class="checkbox-custom mr-3 text-blue-600" id="residence">
                        <span class="text-gray-800">住民票（発行から3ヶ月以内）</span>
                    </label>
                </div>
                
                <div class="checklist-item bg-blue-50 p-4 rounded-lg" data-item="seal">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" class="checkbox-custom mr-3 text-blue-600" id="seal">
                        <span class="text-gray-800">印鑑証明書（発行から3ヶ月以内）</span>
                    </label>
                </div>
                
                <div class="checklist-item bg-blue-50 p-4 rounded-lg" data-item="stamp">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" class="checkbox-custom mr-3 text-blue-600" id="stamp">
                        <span class="text-gray-800">書類には実印で押印</span>
                    </label>
                </div>
                
                <div class="checklist-item bg-blue-50 p-4 rounded-lg" data-item="bank">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" class="checkbox-custom mr-3 text-blue-600" id="bank">
                        <span class="text-gray-800">振込先銀行口座の確認（通帳コピー等）</span>
                    </label>
                </div>
                
                <div class="checklist-item bg-blue-50 p-4 rounded-lg" data-item="keys">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" class="checkbox-custom mr-3 text-blue-600" id="keys">
                        <span class="text-gray-800">鍵の引渡し準備（スペアキー含む）</span>
                    </label>
                </div>
                
                <div class="checklist-item bg-blue-50 p-4 rounded-lg" data-item="manuals">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" class="checkbox-custom mr-3 text-blue-600" id="manuals">
                        <span class="text-gray-800">設備の取扱説明書・保証書の準備</span>
                    </label>
                </div>
            </div>
        </section>

        <!-- 司法書士送付用書類 -->
        <section class="mb-8">
            <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                <i class="fas fa-gavel text-green-600 mr-2"></i>
                司法書士送付用書類
            </h3>
            <div class="space-y-3">
                <div class="checklist-item bg-green-50 p-4 rounded-lg" data-item="registration">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" class="checkbox-custom mr-3 text-green-600" id="registration">
                        <span class="text-gray-800">登記識別情報（所有権移転書類と同時に）</span>
                    </label>
                </div>
            </div>
        </section>

        <!-- 税務関連書類 -->
        <section class="mb-8">
            <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                <i class="fas fa-receipt text-orange-600 mr-2"></i>
                税務関連書類
            </h3>
            <div class="space-y-3">
                <div class="checklist-item bg-orange-50 p-4 rounded-lg" data-item="tax">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" class="checkbox-custom mr-3 text-orange-600" id="tax">
                        <span class="text-gray-800">固定資産税・都市計画税納税通知書（今年度）コピーまたは写真</span>
                    </label>
                </div>
            </div>
        </section>

        <!-- Progress Summary -->
        <div class="bg-gray-100 p-4 rounded-lg mb-6">
            <div class="flex items-center justify-between">
                <span class="text-gray-700 font-medium">進捗状況:</span>
                <span id="progress" class="text-lg font-bold text-blue-600">0/9 完了</span>
            </div>
            <div class="w-full bg-gray-300 rounded-full h-3 mt-2">
                <div id="progressBar" class="bg-blue-600 h-3 rounded-full transition-all duration-300" style="width: 0%"></div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center text-sm text-gray-500 border-t pt-4">
            <p>※ チェック状況は自動的に保存されます</p>
            <p class="mt-1">作成日: <span id="currentDate"></span></p>
        </footer>
    </div>

    <script>
        // 現在の日付を表示
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('ja-JP');

        // ローカルストレージのキー
        const STORAGE_KEY = 'seller_checklist_progress';

        // 全てのチェックボックスを取得
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        const progressElement = document.getElementById('progress');
        const progressBar = document.getElementById('progressBar');

        // ページ読み込み時に保存されたデータを復元
        function loadProgress() {
            const savedData = localStorage.getItem(STORAGE_KEY);
            if (savedData) {
                const checkedItems = JSON.parse(savedData);
                checkedItems.forEach(itemId => {
                    const checkbox = document.getElementById(itemId);
                    if (checkbox) {
                        checkbox.checked = true;
                        updateItemStyle(checkbox);
                    }
                });
            }
            updateProgress();
        }

        // 進捗を保存
        function saveProgress() {
            const checkedItems = [];
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    checkedItems.push(checkbox.id);
                }
            });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(checkedItems));
        }

        // アイテムのスタイルを更新
        function updateItemStyle(checkbox) {
            const item = checkbox.closest('.checklist-item');
            if (checkbox.checked) {
                item.classList.add('completed');
            } else {
                item.classList.remove('completed');
            }
        }

        // 進捗状況を更新
        function updateProgress() {
            const totalItems = checkboxes.length;
            const completedItems = Array.from(checkboxes).filter(cb => cb.checked).length;
            const percentage = totalItems > 0 ? Math.round((completedItems / totalItems) * 100) : 0;
            
            progressElement.textContent = `${completedItems}/${totalItems} 完了`;
            progressBar.style.width = `${percentage}%`;
            
            // 進捗に応じて色を変更
            if (percentage === 100) {
                progressBar.className = 'bg-green-600 h-3 rounded-full transition-all duration-300';
                progressElement.className = 'text-lg font-bold text-green-600';
            } else if (percentage >= 50) {
                progressBar.className = 'bg-blue-600 h-3 rounded-full transition-all duration-300';
                progressElement.className = 'text-lg font-bold text-blue-600';
            } else {
                progressBar.className = 'bg-orange-500 h-3 rounded-full transition-all duration-300';
                progressElement.className = 'text-lg font-bold text-orange-500';
            }
        }

        // チェックボックスのイベントリスナーを設定
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                updateItemStyle(this);
                updateProgress();
                saveProgress();
            });
        });

        // ページ読み込み時に実行
        document.addEventListener('DOMContentLoaded', loadProgress);
    </script>
</body>
</html>
